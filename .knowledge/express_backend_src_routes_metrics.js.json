{"is_source_file": true, "format": "JavaScript (Node.js / Express)", "description": "This file defines various API endpoints related to metrics and analytics for a web application. It sets up routes to fetch data such as signups per day, active users within a time window, event type distributions, total events count, recent activity, and users answering today. The endpoints utilize MongoDB aggregations on models User, UserEvent, and Answer, and include Swagger annotations for API documentation.", "external_files": ["../models/User", "../models/UserEvent", "../models/Answer"], "external_methods": ["require('express').Router", "User.aggregate", "UserEvent.aggregate", "UserEvent.countDocuments", "UserEvent.find", "Answer.aggregate", "next"], "published": ["router"], "classes": [], "methods": [{"name": "parseWindowToMs(windowStr, defaultMs = 10 * 60 * 1000)", "description": "Parses a time window string like '10m', '2h', '1d' into milliseconds.", "scope": "", "scopeKind": ""}], "calls": ["express.Router", "User.aggregate", "UserEvent.aggregate", "UserEvent.countDocuments", "UserEvent.find", "Answer.aggregate", "next"], "search-terms": ["metrics API routes", "MongoDB aggregation metrics", "Express router metrics", "Active users time window", "Signups per day aggregation", "UserEvent distribution", "Recent user activity fetch", "Today answered users aggregation"], "state": 2, "file_id": 25, "knowledge_revision": 99, "git_revision": "b564f36b21b1a8ccbfeb87754a02c23f732e9d71", "revision_history": [{"68": ""}, {"93": "b564f36b21b1a8ccbfeb87754a02c23f732e9d71"}, {"99": "b564f36b21b1a8ccbfeb87754a02c23f732e9d71"}], "ctags": [{"_type": "tag", "name": "Answer", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/metrics.js", "pattern": "/^const Answer = require('..\\/models\\/Answer');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/metrics.js", "pattern": "/^const User = require('..\\/models\\/User');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "UserEvent", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/metrics.js", "pattern": "/^const UserEvent = require('..\\/models\\/UserEvent');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/metrics.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "parseWindowToMs", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/metrics.js", "pattern": "/^function parseWindowToMs(windowStr, defaultMs = 10 * 60 * 1000) {$/", "language": "JavaScript", "kind": "function", "signature": "(windowStr, defaultMs = 10 * 60 * 1000)"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/metrics.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}], "hash": "0e0be333b3ed0200e12f1b74b439349e", "format-version": 4, "code-base-name": "express_backend", "filename": "express_backend/src/routes/metrics.js"}