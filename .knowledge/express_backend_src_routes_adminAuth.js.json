{"is_source_file": true, "format": "JavaScript (Node.js)", "description": "This file defines routes and handlers for administrator authentication, including signup, login, and profile retrieval, using Express.js, JWT, bcrypt, and Mongoose models.", "external_files": ["../models/Admin", "../middleware"], "external_methods": ["requireAdminAuth"], "published": ["router"], "classes": [], "methods": [{"name": "signAdminToken(admin)", "description": "Generates a JWT token embedding admin user details for authentication.", "scope": "", "scopeKind": ""}, {"name": "toPublicAdmin(admin)", "description": "Transforms an Admin model instance into a public JSON object without sensitive info.", "scope": "", "scopeKind": ""}], "calls": ["Admin.findOne", "Admin.prototype.save", "bcrypt.hash", "bcrypt.compare", "jwt.sign", "Admin.findById"], "search-terms": ["adminAuth", "JWT_SECRET", "admin signup", "admin login", "admin profile", "express.Router", "bcryptjs", "jsonwebtoken"], "state": 2, "file_id": 28, "knowledge_revision": 83, "git_revision": "", "ctags": [{"_type": "tag", "name": "Admin", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^const Admin = require('..\\/models\\/Admin');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^const bcrypt = require('bcryptjs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^    email: admin.email,$/", "language": "JavaScript", "kind": "property", "scope": "signAdminToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "signAdminToken", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^    role: 'admin',$/", "language": "JavaScript", "kind": "property", "scope": "signAdminToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "roles", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^    roles: ['admin'], \\/\\/ explicit admin role$/", "language": "JavaScript", "kind": "property", "scope": "signAdminToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signAdminToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^function signAdminToken(admin) {$/", "language": "JavaScript", "kind": "function", "signature": "(admin)"}, {"_type": "tag", "name": "sub", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^    sub: String(admin._id),$/", "language": "JavaScript", "kind": "property", "scope": "signAdminToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "subjectType", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^    subjectType: 'admin',$/", "language": "JavaScript", "kind": "property", "scope": "signAdminToken.payload", "scopeKind": "class"}, {"_type": "tag", "name": "toPublicAdmin", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^function toPublicAdmin(admin) {$/", "language": "JavaScript", "kind": "function", "signature": "(admin)"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/routes/adminAuth.js", "pattern": "/^    username: admin.username,$/", "language": "JavaScript", "kind": "property", "scope": "signAdminToken.payload", "scopeKind": "class"}], "hash": "d7214360b96e326a3fc28f34b4fd7fd8", "format-version": 4, "code-base-name": "express_backend", "filename": "express_backend/src/routes/adminAuth.js", "fields": [{"name": "email: admin.email,", "scope": "signAdminToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "role: 'admin',", "scope": "signAdminToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "roles: ['admin'], \\/\\/ explicit admin role", "scope": "signAdminToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "sub: String(admin._id),", "scope": "signAdminToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "subjectType: 'admin',", "scope": "signAdminToken.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "username: admin.username,", "scope": "signAdminToken.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"83": ""}]}