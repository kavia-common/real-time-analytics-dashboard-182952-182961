{"is_source_file": true, "format": "JavaScript", "description": "This JavaScript source file provides utility functions for bootstrapping an admin user in a Node.js backend project. It handles reading environment variables, creating or updating an admin user in MongoDB with hashed passwords, and setting up an event listener for database connection to trigger seeding.", "external_files": ["../models/User"], "external_methods": ["bcrypt.hash", "User.findOne", "User.updateOne"], "published": ["seedAdminUser", "subscribeAdminBootstrapOnConnect"], "classes": [], "methods": [{"name": "seedAdminUser({ force = false } = {})", "description": "Seeds or updates an admin user in the database based on environment variables. It creates a new user if none exists, or updates roles and password if required.", "scope": "", "scopeKind": ""}, {"name": "subscribeAdminBootstrapOnConnect()", "description": "Attaches a one-time event listener to the mongoose connection to trigger admin user seeding once when the database connection is established.", "scope": "", "scopeKind": ""}], "calls": ["bcrypt.hash", "User.findOne", "User.updateOne", "mongoose.connection.once"], "search-terms": ["admin bootstrap", "MongoDB admin user setup", "mongoose connection event", "environment variables admin", "password hashing", "Seeding admin user"], "state": 2, "file_id": 26, "knowledge_revision": 76, "git_revision": "", "ctags": [{"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^const User = require('..\\/models\\/User');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^const bcrypt = require('bcryptjs');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mongoose", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^const mongoose = require('mongoose');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "seedAdminUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^  seedAdminUser,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "seedAdminUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^async function seedAdminUser({ force = false } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ force = false } = {})"}, {"_type": "tag", "name": "subscribeAdminBootstrapOnConnect", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^function subscribeAdminBootstrapOnConnect() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "subscribed", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182961/express_backend/src/bootstrap/admin.js", "pattern": "/^let subscribed = false;$/", "language": "JavaScript", "kind": "variable"}], "hash": "d20b8df39427e4267f9039a40a4f6983", "format-version": 4, "code-base-name": "express_backend", "filename": "express_backend/src/bootstrap/admin.js", "fields": [{"name": "seedAdminUser,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "let subscribed = false;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"76": ""}]}